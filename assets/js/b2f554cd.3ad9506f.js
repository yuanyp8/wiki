"use strict";(self.webpackChunkyuanyp_8_dochub=self.webpackChunkyuanyp_8_dochub||[]).push([[1477],{10:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"awk","metadata":{"permalink":"/blog/awk","editUrl":"https://github.com/yuanyp8/yuanyp8.github.io/tree/master/blog/linux/multiCommand.md","source":"@site/blog/linux/multiCommand.md","title":"awk \u7528\u6cd5","description":"awk \u7b80\u4ecb","date":"2022-07-21T08:58:50.000Z","formattedDate":"2022\u5e747\u670821\u65e5","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"shell","permalink":"/blog/tags/shell"},{"label":"regex","permalink":"/blog/tags/regex"},{"label":"awk","permalink":"/blog/tags/awk"}],"readingTime":2.78,"hasTruncateMarker":false,"authors":[{"name":"\u5143\u7389\u9e4f","title":"SRE Engineer @ Chinamobile","url":"https://github.com/yuanyp8","imageURL":"https://github.com/yuanyp8.png","key":"yuanyp8"}],"frontMatter":{"slug":"awk","title":"awk \u7528\u6cd5","authors":["yuanyp8"],"tags":["linux","shell","regex","awk"]}},"content":"import { Highlight } from \\"@site/src/components/MyMDX\\"\\nimport Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\n\\n<img className=\\"Badges\\" src=\\"https://img.shields.io/badge/author-yuanyp8-yellowgreen\\"/><br/>\\n<br />\\n\\n\\n## awk \u7b80\u4ecb\\nawk \u662f\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u7528\u4e8e\u5728linux/unix\u4e0b\u5bf9\u6587\u672c\u548c\u6570\u636e\u8fdb\u884c\u5904\u7406\u3002\u6570\u636e\u53ef\u4ee5\u6765\u81ea\u6807\u51c6\u8f93\u5165(stdin)\u3001\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\uff0c\u6216\u5176\u5b83\u547d\u4ee4\u7684\u8f93\u51fa\u3002\u5b83\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u51fd\u6570\u548c\u52a8\u6001\u6b63\u5219\u8868\u8fbe\u5f0f\u7b49\u5148\u8fdb\u529f\u80fd\uff0c\u662flinux/unix\u4e0b\u7684\u4e00\u4e2a\u5f3a\u5927\u7f16\u7a0b\u5de5\u5177\u3002\u5b83\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\uff0c\u4f46\u66f4\u591a\u662f\u4f5c\u4e3a\u811a\u672c\u6765\u4f7f\u7528\u3002awk\u6709\u5f88\u591a\u5185\u5efa\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u6570\u7ec4\u3001\u51fd\u6570\u7b49\uff0c\u8fd9\u662f\u5b83\u548cC\u8bed\u8a00\u7684\u76f8\u540c\u4e4b\u5904\uff0c\u7075\u6d3b\u6027\u662fawk\u6700\u5927\u7684\u4f18\u52bf\u3002\\n\\n## \u547d\u4ee4\u884c\u683c\u5f0f\\n\\n\\n```shell\\nawk: option requires an argument -- h\\nUsage: awk [POSIX or GNU style options] -f progfile [--] file ...\\nUsage: awk [POSIX or GNU style options] [--] \'program\' file ...\\n```\\n\\n\\n<details>\\n  <summary>\u53c2\u6570</summary>\\n  <div>\\n\\n```shell\\n        -f progfile             --file=progfile\\n        -F fs                   --field-separator=fs\\n        -v var=val              --assign=var=val\\nShort options:          GNU long options: (extensions)\\n        -b                      --characters-as-bytes\\n        -c                      --traditional\\n        -C                      --copyright\\n        -d[file]                --dump-variables[=file]\\n        -e \'program-text\'       --source=\'program-text\'\\n        -E file                 --exec=file\\n        -g                      --gen-pot\\n        -h                      --help\\n        -L [fatal]              --lint[=fatal]\\n        -n                      --non-decimal-data\\n        -N                      --use-lc-numeric\\n        -O                      --optimize\\n        -p[file]                --profile[=file]\\n        -P                      --posix\\n        -r                      --re-interval\\n        -S                      --sandbox\\n        -t                      --lint-old\\n        -V                      --version\\n```\\n\\n  </div>\\n</details>\\n\\n## `awk`\u7ed3\u5408`printf`\u7684\u73a9\u6cd5\\n\\n\u539f\u59cb\u6570\u636e\\n```shell\\n# kubectl get pods -A\\nNAMESPACE                      NAME                                                              READY   STATUS                  RESTARTS   AGE\\nelastic-system                 elastic-operator-0                                                0/1     ImagePullBackOff        0          88d\\nistio-system                   istio-ingressgateway-6cfc89c4b6-krwcj                             1/1     Running                 3          301d\\nistio-system                   istiod-1-6-10-75fcd5bbd5-qdm8t                                    1/1     Running                 3          301d\\nistio-system                   jaeger-collector-5f6d955b67-fg4v4                                 1/1     Running                 13         301d\\nistio-system                   jaeger-es-index-cleaner-1658159700-vhv5n                          0/1     Completed               0          2d16h\\nistio-system                   jaeger-es-index-cleaner-1658246100-9ct9v                          0/1     Completed               0          40h\\nistio-system                   jaeger-es-index-cleaner-1658332500-pztsw                          0/1     Completed               0          16h\\nistio-system                   jaeger-operator-5d78df8787-kkrsh                                  1/1     Running                 3          301d\\nistio-system                   jaeger-query-75cf7bd66b-lrtbv                                     2/2     Running                 15         301d\\nistio-system                   kiali-7b8cffc45c-7lxzm                                            1/1     Running                 3\\n```\\n\\n\u5b9e\u73b0\u5982\u4e0b\u6279\u91cf\u529f\u80fd\\n```shell\\n     namespace:${NAMESAPCE_NAME}, pod:${POD_NAME}\\n```\\n\\n<details>\\n  <summary>\u8bed\u6cd5\u5b9e\u73b0</summary>\\n  <div>\\n\\n\\n```shell\\n# kubectl get pods -A |awk \'{printf(\\"namespace:%s, pod:%s\\\\n\\", $1, $2)}\'\\n#highlight-start\\nnamespace:pl, pod:web-revision-v1-55674487c-qgrfs\\nnamespace:pl, pod:web-revision-v1-5cb47bc74-f7ft2\\nnamespace:pl, pod:web-revision-v1-5cb47bc74-mvfmt\\nnamespace:podscaler, pod:redis-0\\nnamespace:project-system, pod:project-controller-manager-856cfbdfc6-r84xm\\nnamespace:velero, pod:restic-rkwd6\\nnamespace:velero, pod:restic-wjdqs\\nnamespace:velero, pod:velero-8668b67b-qwk5t\\nnamespace:velero, pod:velero-8668b67b-rffxn\\nnamespace:vue-test, pod:demo-77d5c8d6b6-vd5x6\\nnamespace:vue-test, pod:games-9786647cc-68nqh\\nnamespace:vue-test, pod:games-9786647cc-xm7gg\\n#highlight-end\\n```\\n\\n\u53c2\u6570\u8bf4\u660e\\n<ol>\\n<li>\\n<b>%s</b>: \u5360\u4f4d\u7b26,\u7528\u4e8e\u58f0\u660e\u6b64\u5904\u5e94\u5b58\u5728\u4e00\u4e2a\u5b57\u7b26\u4e32\\n</li>\\n<li>\\n<b>\'$1\'</b>: \u4f20\u5165\u53c2\u6570,awk\u9ed8\u8ba4\u89e3\u6790\u7684\u5206\u9694\u7b26\u4e3a\u7a7a\u5b57\u7b26(\u8d2a\u5a6a\u6a21\u5f0f),\u4e0a\u8ff0\u4f8b\u5b50\u5bf9\u5e94\u5173\u7cfb\u4e3a $1=NAMESPACE | $2=NAME | $3=READY | $4=STATUS | $5=RESTARTS | $6=AGE\\n</li>\\n</ol>\\n\\n  </div>\\n</details>\\n\\n:::warning\\n\u4e0a\u8ff0\u547d\u4ee4\u53ea\u662f\u62fc\u51d1\u5b57\u7b26\u4e32\u5230\u63a7\u5236\u53f0, \u8981\u60f3\u8ba9bash\u89e3\u91ca\u6267\u884c\u9700\u8981\u7528\u7ba1\u9053\u7b26\u5c06stdin\u4f20\u7ed9bash,\u4e3e\u4f8b\u5b50\u5982\u4e0b\\n```shell title=\\"\u5f3a\u5236\u5220\u9664\u96c6\u7fa4\u5185\u6240\u6709\u7684\u5904\u4e8eTerminating\u72b6\u6001\u7684pod\\"\\nkubectl get pods -A|grep Terminating |awk \'{printf(\\"kubectl delete pod --force --grace-period=0 -n %s %s\\\\n\\", $1, $2)}\'|bash\\n```\\n:::"}]}')}}]);