"use strict";(self.webpackChunkyuanyp_8_dochub=self.webpackChunkyuanyp_8_dochub||[]).push([[69],{3905:(e,t,n)=>{n.d(t,{Zo:()=>g,kt:()=>N});var l=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=l.createContext({}),M=function(e){var t=l.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},g=function(e){var t=M(e.components);return l.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},c=l.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,g=o(e,["components","mdxType","originalType","parentName"]),c=M(n),N=r,d=c["".concat(s,".").concat(N)]||c[N]||u[N]||a;return n?l.createElement(d,i(i({ref:t},g),{},{components:n})):l.createElement(d,i({ref:t},g))}));function N(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var M=2;M<a;M++)i[M]=n[M];return l.createElement.apply(null,i)}return l.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(7294),r=n(6010);const a="tabItem_Ymn6";function i(e){let{children:t,hidden:n,className:i}=e;return l.createElement("div",{role:"tabpanel",className:(0,r.Z)(a,i),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>N});var l=n(7462),r=n(7294),a=n(6010),i=n(2389),o=n(7392),s=n(7094),M=n(2466);const g="tabList__CuJ",u="tabItem_LNqP";function c(e){var t,n;const{lazy:i,block:c,defaultValue:N,values:d,groupId:I,className:k}=e,D=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),j=null!=d?d:D.map((e=>{let{props:{value:t,label:n,attributes:l}}=e;return{value:t,label:n,attributes:l}})),p=(0,o.l)(j,((e,t)=>e.value===t.value));if(p.length>0)throw new Error('Docusaurus error: Duplicate values "'+p.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const y=null===N?N:null!=(t=null!=N?N:null==(n=D.find((e=>e.props.default)))?void 0:n.props.value)?t:D[0].props.value;if(null!==y&&!j.some((e=>e.value===y)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+y+'" but none of its children has the corresponding value. Available values are: '+j.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:m,setTabGroupChoices:L}=(0,s.U)(),[C,z]=(0,r.useState)(y),w=[],{blockElementScrollPositionUntilNextRender:A}=(0,M.o5)();if(null!=I){const e=m[I];null!=e&&e!==C&&j.some((t=>t.value===e))&&z(e)}const T=e=>{const t=e.currentTarget,n=w.indexOf(t),l=j[n].value;l!==C&&(A(t),z(l),null!=I&&L(I,String(l)))},x=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{var l;const t=w.indexOf(e.currentTarget)+1;n=null!=(l=w[t])?l:w[0];break}case"ArrowLeft":{var r;const t=w.indexOf(e.currentTarget)-1;n=null!=(r=w[t])?r:w[w.length-1];break}}null==(t=n)||t.focus()};return r.createElement("div",{className:(0,a.Z)("tabs-container",g)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":c},k)},j.map((e=>{let{value:t,label:n,attributes:i}=e;return r.createElement("li",(0,l.Z)({role:"tab",tabIndex:C===t?0:-1,"aria-selected":C===t,key:t,ref:e=>w.push(e),onKeyDown:x,onFocus:T,onClick:T},i,{className:(0,a.Z)("tabs__item",u,null==i?void 0:i.className,{"tabs__item--active":C===t})}),null!=n?n:t)}))),i?(0,r.cloneElement)(D.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},D.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function N(e){const t=(0,i.Z)();return r.createElement(c,(0,l.Z)({key:String(t)},e))}},8929:(e,t,n)=>{n.d(t,{y:()=>r});var l=n(7294);function r(e){let{children:t,color:n}=e;return l.createElement("span",{style:{backgroundColor:n,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},t)}},764:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>M,default:()=>d,frontMatter:()=>s,metadata:()=>g,toc:()=>c});var l=n(7462),r=(n(7294),n(3905)),a=n(8929),i=n(5488),o=n(5162);const s={slug:"install",id:"install",title:"Docker Installation",authors:["yuanyp8"],tags:["docker","cloudnative","installation","\u90e8\u7f72","\u914d\u7f6e"]},M=void 0,g={unversionedId:"docker/install",id:"docker/install",title:"Docker Installation",description:"\u652f\u6301\u5b89\u88c5\u7684\u5e73\u53f0",source:"@site/docs/docker/06-installation.md",sourceDirName:"docker",slug:"/docker/install",permalink:"/en/docs/docker/install",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/docker/06-installation.md",tags:[{label:"docker",permalink:"/en/docs/tags/docker"},{label:"cloudnative",permalink:"/en/docs/tags/cloudnative"},{label:"installation",permalink:"/en/docs/tags/installation"},{label:"\u90e8\u7f72",permalink:"/en/docs/tags/\u90e8\u7f72"},{label:"\u914d\u7f6e",permalink:"/en/docs/tags/\u914d\u7f6e"}],version:"current",sidebarPosition:6,frontMatter:{slug:"install",id:"install",title:"Docker Installation",authors:["yuanyp8"],tags:["docker","cloudnative","installation","\u90e8\u7f72","\u914d\u7f6e"]},sidebar:"tutorialSidebar",previous:{title:"Docker \u6838\u5fc3\u6982\u5ff5\u7b80\u8ff0",permalink:"/en/docs/docker/coreConcept"},next:{title:"Tutorial - Extras",permalink:"/en/docs/category/tutorial---extras"}},u={},c=[{value:"\u652f\u6301\u5b89\u88c5\u7684\u5e73\u53f0",id:"\u652f\u6301\u5b89\u88c5\u7684\u5e73\u53f0",level:2},{value:"Desktop",id:"desktop",level:3},{value:"Server",id:"server",level:3},{value:"\u5b89\u88c5Docker",id:"\u5b89\u88c5docker",level:2},{value:"Windwos\u5b89\u88c5Docker",id:"windwos\u5b89\u88c5docker",level:3},{value:"CentOS\u5b89\u88c5Docker",id:"centos\u5b89\u88c5docker",level:3},{value:"\u5378\u8f7d\u65e7\u7248\u672c",id:"\u5378\u8f7d\u65e7\u7248\u672c",level:4},{value:"\u914d\u7f6eDocker\u7684yum\u4e0b\u8f7d\u6e90",id:"\u914d\u7f6edocker\u7684yum\u4e0b\u8f7d\u6e90",level:4},{value:"\u5b89\u88c5Docker\u5bb9\u5668\u5f15\u64ce",id:"\u5b89\u88c5docker\u5bb9\u5668\u5f15\u64ce",level:4},{value:"\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u6210\u529f",id:"\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u6210\u529f",level:4},{value:"\u751f\u4ea7\u73af\u5883Docker\u4f18\u5316",id:"\u751f\u4ea7\u73af\u5883docker\u4f18\u5316",level:2},{value:"Docker\u955c\u50cf\u4ed3\u5e93\u52a0\u901f\u5668",id:"docker\u955c\u50cf\u4ed3\u5e93\u52a0\u901f\u5668",level:3},{value:"Docker daemon\u91cd\u8f7d",id:"docker-daemon\u91cd\u8f7d",level:3},{value:"Docker Logging Driver",id:"docker-logging-driver",level:3},{value:"\u5f00\u542fiptable\u8f6c\u53d1",id:"\u5f00\u542fiptable\u8f6c\u53d1",level:3},{value:"\u5176\u4ed6\u53ef\u9009\u914d\u7f6e",id:"\u5176\u4ed6\u53ef\u9009\u914d\u7f6e",level:3},{value:"\u5bb9\u5668\u78c1\u76d8\u4f7f\u7528\u9650\u5236",id:"\u5bb9\u5668\u78c1\u76d8\u4f7f\u7528\u9650\u5236",level:3}],N={toc:c};function d(e){let{components:t,...s}=e;return(0,r.kt)("wrapper",(0,l.Z)({},N,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("img",{className:"Badges",src:"https://img.shields.io/badge/author-yuanyp8-yellowgreen"}),(0,r.kt)("h2",{id:"\u652f\u6301\u5b89\u88c5\u7684\u5e73\u53f0"},"\u652f\u6301\u5b89\u88c5\u7684\u5e73\u53f0"),(0,r.kt)("h3",{id:"desktop"},"Desktop"),(0,r.kt)(i.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"Windows",label:"Windows",default:!0,mdxType:"TabItem"},(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/desktop/install/windows-install/"},(0,r.kt)("img",{alt:"Docker Desktop for Windows",src:n(32).Z,width:"48",height:"48"})))),(0,r.kt)(o.Z,{value:"Mac",label:"Mac",mdxType:"TabItem"},(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/get-docker/"},(0,r.kt)("img",{alt:"Docker Desktop for Mac",src:n(3815).Z,width:"48",height:"48"})))),(0,r.kt)(o.Z,{value:"Linux",label:"Linux",mdxType:"TabItem"},(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/desktop/install/linux-install/"},(0,r.kt)("img",{alt:"Docker for Linux",src:n(3316).Z,width:"48",height:"48"}))))),(0,r.kt)("h3",{id:"server"},"Server"),(0,r.kt)("p",null,"\u5b89\u88c5Docker\u6709\u5982\u4e0b\u8981\u6c42:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Docker\u53ea\u652f\u6301",(0,r.kt)("inlineCode",{parentName:"li"},"64"),"\u4f4dCPU\u67b6\u6784\u7684\u8ba1\u7b97\u673a\uff0c\u76ee\u524d\u4e0d\u652f\u6301",(0,r.kt)("inlineCode",{parentName:"li"},"32"),"\u4f4dCPU\uff1b"),(0,r.kt)("li",{parentName:"ul"},"\u5efa\u8bae\u7cfb\u7edf\u7684Linux\u5185\u6838\u7248\u672c\u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"3.10"),"\u53ca\u4ee5\u4e0a\uff1b"),(0,r.kt)("li",{parentName:"ul"},"Linux\u5185\u6838\u9700\u5f00\u542f",(0,r.kt)("inlineCode",{parentName:"li"},"cgroups"),"\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"namespace"),"\u529f\u80fd\uff1b")),(0,r.kt)("h2",{id:"\u5b89\u88c5docker"},"\u5b89\u88c5Docker"),(0,r.kt)("h3",{id:"windwos\u5b89\u88c5docker"},"Windwos\u5b89\u88c5Docker"),(0,r.kt)("p",null,"\u76f4\u63a5\u53c2\u8003\u5b98\u65b9\u6559\u7a0b\u5373\u53ef\uff0c\u8fd9\u91cc\u4e0d\u5355\u72ec\u5c55\u5f00\u63cf\u8ff0"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"  Desktop\u5b89\u88c5\u65b9\u5f0f: ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/docker-for-windows/install/"},"https://docs.docker.com/docker-for-windows/install/"))),(0,r.kt)("h3",{id:"centos\u5b89\u88c5docker"},"CentOS\u5b89\u88c5Docker"),(0,r.kt)("h4",{id:"\u5378\u8f7d\u65e7\u7248\u672c"},"\u5378\u8f7d\u65e7\u7248\u672c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="uninstall old docker version"',title:'"uninstall',old:!0,docker:!0,'version"':!0},"$ sudo yum remove docker \\\n                 docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-engine\n")),(0,r.kt)("h4",{id:"\u914d\u7f6edocker\u7684yum\u4e0b\u8f7d\u6e90"},"\u914d\u7f6eDocker\u7684yum\u4e0b\u8f7d\u6e90"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="add docker yum repo"',title:'"add',docker:!0,yum:!0,'repo"':!0},"$ sudo yum install -y yum-utils\n\n$ sudo yum-config-manager \\\n               --add-repo \\\n               https://download.docker.com/linux/centos/docker-ce.repo\n")),(0,r.kt)("h4",{id:"\u5b89\u88c5docker\u5bb9\u5668\u5f15\u64ce"},"\u5b89\u88c5Docker\u5bb9\u5668\u5f15\u64ce"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="install docker engine"',title:'"install',docker:!0,'engine"':!0},"$ sudo yum install docker-ce docker-ce-cli containerd.io\n")),(0,r.kt)("h4",{id:"\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u6210\u529f"},"\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u6210\u529f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="check if successd"',title:'"check',if:!0,'successd"':!0},"$ yum list docker-ce --showduplicates | sort -r\n\ndocker-ce.x86_64  3:18.09.1-3.el7                     docker-ce-stable\ndocker-ce.x86_64  3:18.09.0-3.el7                     docker-ce-stable\ndocker-ce.x86_64  18.06.1.ce-3.el7                    docker-ce-stable\ndocker-ce.x86_64  18.06.0.ce-3.el7                    docker-ce-stable\n")),(0,r.kt)("h2",{id:"\u751f\u4ea7\u73af\u5883docker\u4f18\u5316"},"\u751f\u4ea7\u73af\u5883Docker\u4f18\u5316"),(0,r.kt)("p",null,"\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u4ecd\u7136\u9700\u8981\u4e00\u4e9b\u989d\u5916\u7684\u53c2\u6570\u914d\u7f6e\u6765\u4fdd\u8bc1\u4f60\u7684Docker\u66f4\u66f4\u52a0\u7a33\u5b9a"),(0,r.kt)("h3",{id:"docker\u955c\u50cf\u4ed3\u5e93\u52a0\u901f\u5668"},"Docker\u955c\u50cf\u4ed3\u5e93\u52a0\u901f\u5668"),(0,r.kt)("p",null,"\u5bf9\u4e8eDocker\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93Registry\uff0c\u6ca1\u6709",(0,r.kt)("strong",{parentName:"p"},"\u4ed3\u5e93\u955c\u50cf\u52a0\u901f"),"\uff0c\u5bf8\u6b65\u96be\u884c\u3002"),(0,r.kt)("p",null,"\u955c\u50cf\u4ed3\u5e93\u52a0\u901f\u5668Registry Mirrors\uff0c\u662f\u56fd\u5185\u5bf9\u5b98\u65b9Registry\u7684\u201d\u955c\u50cf(mirror)\u201d\uff0c\u5f53\u62c9\u53d6",(0,r.kt)("inlineCode",{parentName:"p"},"image"),"\u65f6\uff0cDocker Daemon\u5148\u53bb Registry Mirrors \u62c9\u53d6\u955c\u50cf\uff0c\u5982\u679c\u6ca1\u627e\u5230\u955c\u50cf\uff0cRegistry Mirrors\u627e\u5b98\u65b9Registry\u62c9\u53bb\u955c\u50cf\uff0c\u7136\u540e\u518d\u8fd4\u56de\u7ed9\u672c\u5730\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u955c\u50cf\u52a0\u901f",src:n(2345).Z,width:"1744",height:"938"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Registry Mirror\u8bbe\u7f6e")),(0,r.kt)("p",null,"\u9488\u5bf9Docker\u5ba2\u6237\u7aef\u7248\u672c\u5927\u4e8e 1.10.0 \u7684\u7528\u6237\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539daemon\u914d\u7f6e\u6587\u4ef6",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/docker/daemon.json"),"\u6765\u4f7f\u7528\u52a0\u901f\u5668Docker\u955c\u50cf\u52a0\u901f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Docker\u955c\u50cf\u52a0\u901f"',title:'"Docker\u955c\u50cf\u52a0\u901f"'},'sudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n#highlight-next-line\n"registry-mirrors": ["https://you-correct-address.mirror.aliyuncs.com"]\n}\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n#highlight-next-line\n"registry-mirrors": ["https://you-correct-address.mirror.aliyuncs.com"]\n}\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n')),(0,r.kt)("h3",{id:"docker-daemon\u91cd\u8f7d"},"Docker daemon\u91cd\u8f7d"),(0,r.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53 Docker\u5b88\u62a4\u8fdb\u7a0b\u7ec8\u6b62\u65f6\uff0c\u5b83\u5c06\u5173\u95ed\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u3002\u60a8\u53ef\u4ee5\u914d\u7f6e\u5b88\u62a4\u7a0b\u5e8f\uff0c\u4ee5\u4fbf\u5bb9\u5668\u5728\u5b88\u62a4\u7a0b\u5e8f\u4e0d\u53ef\u7528\u65f6\u4fdd\u6301\u8fd0\u884c\u3002 \u6b64\u529f\u80fd\u79f0\u4e3alive-restore\u3002live-restore\u9009\u9879\u6709\u52a9\u4e8e\u51cf\u5c11\u7531\u4e8e\u5b88\u62a4\u8fdb\u7a0b\u5d29\u6e83\u3001\u8ba1\u5212\u4e2d\u65ad\u6216\u5347\u7ea7\u800c\u5bfc\u81f4\u7684\u5bb9\u5668\u505c\u673a\u65f6\u95f4\u3002"),(0,r.kt)("p",null,"\u5728\u5de5\u4f5c\u4e2d\uff0c\u5047\u5982\u4fee\u6539\u4e86docker\u7684\u914d\u7f6e\u800c\u9700\u8981\u91cd\u65b0\u52a0\u8f7ddocker\u5b88\u62a4\u8fdb\u7a0b\uff0c\u5bfc\u81f4docker\u5bb9\u5668\u91cd\u542f\uff0c\u4e1a\u52a1\u4f1a\u4e2d\u65ad\u4e00\u4f1a\uff0c\u5c24\u5176\u662f\u5728\u751f\u4ea7\u73af\u5883\uff0c\u5b58\u5728\u4e00\u5b9a\u7684\u98ce\u9669\u3002 \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u542f\u7528live-restore\u529f\u80fd\uff0c\u4ee5\u5728\u5b88\u62a4\u8fdb\u7a0b\u4e0d\u53ef\u7528\u65f6\u4f7f\u5bb9\u5668\u4fdd\u6301\u6d3b\u52a8\u72b6\u6001\u3002"),(0,r.kt)("p",null,"\u5c06\u914d\u7f6e\u6dfb\u52a0\u5230\u5b88\u62a4\u8fdb\u7a0b\u914d\u7f6e\uff0c\u5373",(0,r.kt)("inlineCode",{parentName:"p"},"docker-daemon.json"),"\uff0c\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Docker\u5b88\u62a4\u8fdb\u7a0b\u91cd\u8f7d"',title:'"Docker\u5b88\u62a4\u8fdb\u7a0b\u91cd\u8f7d"'},'$ cat /etc/docker/daemon.json\n{\n  "debug": false,\n#highlight-next-line\n  "registry-mirrors": ["https://you-correct-address.mirror.aliyuncs.com"],\n  "live-restore": true\n}\n')),(0,r.kt)("h3",{id:"docker-logging-driver"},"Docker Logging Driver"),(0,r.kt)("p",null,"Docker\u62e5\u6709\u591a\u79cd\u65e5\u5fd7\u673a\u5236\u6765\u6536\u96c6\u5bb9\u5668\u53ca\u5176\u5185\u90e8\u8fd0\u884c\u7684\u670d\u52a1\u7684\u65e5\u5fd7\u4fe1\u606f\uff0c\u8fd9\u4e9b\u673a\u5236\u7edf\u79f0\u4e3alogging drivers\u3002 Docker daemon \u62e5\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684logging driver(json-file)\uff0c\u5bb9\u5668\u9ed8\u8ba4\u91c7\u7528\u8fd9\u4e2alogging driver."),(0,r.kt)("p",null,"Docker\u5904\u7406\u65e5\u5fd7\u7684\u65b9\u6cd5\u662f Docker daemon\u6355\u6349\u6bcf\u4e00\u4e2a\u5bb9\u5668\u8fdb\u7a0b\u7684STDOUT\u548cSTDERR, \u901a\u8fc7logging driver\u5c06\u5b83\u4eec\u8f93\u51fa\u4fdd\u5b58\u5728\u78c1\u76d8\u4e0a\u3002 \u7136\u540e\u7528\u6237\u5c31\u80fd\u4f7f\u7528docker logs \u6765\u8fdb\u884c\u67e5\u8be2\u3002"),(0,r.kt)("p",null,"\u8fd9\u4e9b\u65e5\u5fd7\u8ddf\u968f\u5bb9\u5668\u800c\u4ea7\u751f\u7684\uff0c\u5982\u679c\u5220\u9664\u4e86\u67d0\u4e2a\u5bb9\u5668\uff0c\u76f8\u5e94\u7684\u65e5\u5fd7\u6587\u4ef6\u4e5f\u4f1a\u968f\u7740\u88ab\u5220\u9664\u3002"),(0,r.kt)("p",null,"Docker\u7684\u9ed8\u8ba4 logging driver\u662f json-file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ docker info | grep 'Logging Driver'\nLogging Driver: json-file\n")),(0,r.kt)("p",null,"\u9664\u4e86 json-file \u8fd8\u652f\u6301\u5f88\u591a logging driver"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u9a71\u52a8\u7a0b\u5e8f"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"none"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5bb9\u5668\u6ca1\u6709\u65e5\u5fd7\u53ef\u7528\uff0cdocker logs \u4ec0\u4e48\u90fd\u4e0d\u8fd4\u56de")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"local"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e5\u5fd7\u4ee5\u81ea\u5b9a\u4e49\u683c\u5f0f\u5b58\u50a8\uff0c\u8bbe\u8ba1\u8fd9\u79cd\u683c\u5f0f\u7684\u76ee\u7684\u662f\u5c06\u5f00\u9500\u964d\u5230\u6700\u4f4e\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"syslog"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165 syslog \u5de5\u5177\uff0csyslog \u5b88\u62a4\u7a0b\u5e8f\u5fc5\u987b\u5728\u4e3b\u673a\u4e0a\u8fd0\u884c\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"journald"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165 journald\uff0cjournald \u5b88\u62a4\u7a0b\u5e8f\u5fc5\u987b\u5728\u4e3b\u673a\u4e0a\u8fd0\u884c\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"gelf"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165 Graylog Extended Log Format (GELF) \u7ec8\u7aef\uff0c\u4f8b\u5982 Graylog \u6216 Logstash\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fluentd"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165 fluentd\uff08forward input\uff09\uff0cfluentd \u5b88\u62a4\u7a0b\u5e8f\u5fc5\u987b\u5728\u4e3b\u673a\u4e0a\u8fd0\u884c\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"awslogs"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165 Amazon CloudWatch Logs\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"splunk"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4f7f\u7528HTTP\u4e8b\u4ef6\u6536\u96c6\u5668\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165splunk\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"etwlogs"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u4e3a Windows \u7684 Event Tracing \u4e8b\u4ef6\uff0c\u4ec5\u5728Windows\u5e73\u53f0\u4e0a\u53ef\u7528\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"gcplogs"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165 Google Cloud Platform (GCP) Logging\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"logentries"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165 Rapid7 Logentries\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"json-file"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e5\u5fd7\u683c\u5f0f\u5316\u4e3a JSON\uff0c\u8fd9\u662f Docker \u9ed8\u8ba4\u7684\u65e5\u5fd7\u9a71\u52a8\u7a0b\u5e8f\u3002")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"none \u662f disable \u5bb9\u5668\u65e5\u5fd7\u529f\u80fd"),(0,r.kt)("li",{parentName:"ul"},"syslog \u548c journald \u662flinux\u4e0a\u7684\u4e24\u79cd\u65e5\u5fd7\u7ba1\u7406\u670d\u52a1"),(0,r.kt)("li",{parentName:"ul"},"awslogs\uff0csplunk \u548c gcplogs \u662f\u7b2c\u4e09\u65b9\u65e5\u5fd7\u6258\u7ba1\u670d\u52a1"),(0,r.kt)("li",{parentName:"ul"},"gelf \u548c fluentd \u662f\u4e24\u79cd\u5f00\u6e90\u7684\u65e5\u5fd7\u7ba1\u7406\u65b9\u6848")),(0,r.kt)("p",null,"\u8fd9\u91cc\u6682\u65f6\u6f14\u793a\u9ed8\u8ba4\u7684json-file\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Docker Logging Driver"',title:'"Docker',Logging:!0,'Driver"':!0},'$ cat /etc/docker/daemon.json\n\n{\n  "debug": false,\n#highlight-next-line\n  "registry-mirrors": ["https://you-correct-address.mirror.aliyuncs.com"],\n  "live-restore": true,\n#highlight-next-line\n  "log-driver": "json-file",\n  "log-level": "warn",\n#highlight-next-line\n  "log-opts": {\n    "max-file": "10",\n    "max-size": "100m"\n  }\n}\n')),(0,r.kt)("h3",{id:"\u5f00\u542fiptable\u8f6c\u53d1"},"\u5f00\u542fiptable\u8f6c\u53d1"),(0,r.kt)("p",null,"iptable forward\u8f6c\u53d1\u5b9e\u73b0 ",(0,r.kt)("inlineCode",{parentName:"p"},"docker -p")," \u529f\u80fd\u5171\u5c40\u57df\u7f51\u5185\u5176\u4ed6\u4e3b\u673a\u8bbf\u95ee"),(0,r.kt)("p",null,"Linux\u7cfb\u7edf\u7f3a\u7701\u5e76\u6ca1\u6709\u6253\u5f00IP\u8f6c\u53d1\u529f\u80fd\uff0c\u8981\u786e\u8ba4IP\u8f6c\u53d1\u529f\u80fd\u7684\u72b6\u6001\uff0c\u53ef\u4ee5\u67e5\u770b/proc\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ cat /proc/sys/net/ipv4/ip_forward\n#highlight-next-line\n0\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5982\u679c\u4e0a\u8ff0\u6587\u4ef6\u4e2d\u7684\u503c\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"0"),",\u8bf4\u660e\u7981\u6b62\u8fdb\u884cIP\u8f6c\u53d1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5982\u679c\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"1"),",\u5219\u8bf4\u660eIP\u8f6c\u53d1\u529f\u80fd\u5df2\u7ecf\u6253\u5f00")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8981\u60f3\u6253\u5f00IP\u8f6c\u53d1\u529f\u80fd\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u4e0a\u8ff0\u6587\u4ef6\uff1a "),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"echo 1 > /proc/sys/net/ipv4/ip_forward\n")),(0,r.kt)("p",{parentName:"li"},"\u628a\u6587\u4ef6\u7684\u5185\u5bb9\u75310\u4fee\u6539\u4e3a1\u3002\u7981\u7528IP\u8f6c\u53d1\u5219\u628a",(0,r.kt)("inlineCode",{parentName:"p"},"1"),"\u6539\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"\u3002"))),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"\u4e0a\u9762\u7684\u547d\u4ee4\u5e76\u6ca1\u6709\u4fdd\u5b58\u5bf9IP\u8f6c\u53d1\u914d\u7f6e\u7684\u66f4\u6539\uff0c\u4e0b\u6b21\u7cfb\u7edf\u542f\u52a8\u65f6\u4ecd\u4f1a\u4f7f\u7528\u539f\u6765\u7684\u503c\uff0c")),(0,r.kt)("p",null,"\u8981\u60f3\u6c38\u4e45\u4fee\u6539IP\u8f6c\u53d1\uff0c\u9700\u8981\u4fee\u6539",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/sysctl.conf"),"\u6587\u4ef6\uff0c\u4fee \u6539\u4e0b\u9762\u4e00\u884c\u7684\u503c\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"net.ipv4.ip_forward = 1")),(0,r.kt)("p",null,"\u4fee\u6539\u540e\u53ef\u4ee5\u91cd\u542f\u7cfb\u7edf\u6765\u4f7f\u4fee\u6539\u751f\u6548\uff0c\u4e5f\u53ef\u4ee5\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u4f7f\u4fee\u6539\u751f\u6548\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sysctl -p /etc/sysctl.conf\n")),(0,r.kt)("p",null,"\u8fdb\u884c\u4e86\u4e0a\u9762\u7684\u914d\u7f6e\u540e\uff0cIP\u8f6c\u53d1\u529f\u80fd\u5c31\u6c38\u4e45\u4f7f\u80fd\u4e86\u3002"),(0,r.kt)("p",null,"\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236Docker Daemon\u914d\u7f6e\u6587\u4ef6\u6765\u5b9e\u73b0"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Docker iptables forwarding")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'$ cat /etc/docker/daemon.json\n\n{\n "debug": false,\n "registry-mirrors": ["https://you-correct-address.mirror.aliyuncs.com"],\n "live-restore": true,\n "log-driver": "json-file",\n "log-level": "warn",\n "log-opts": {\n   "max-file": "10",\n   "max-size": "100m"\n},\n#highlight-next-line\n"ip-forward": true\n}\n')),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)(a.y,{color:"#25c2a0",mdxType:"Highlight"},"\u5b9e\u9a8c\u4e0a\u8ff0\u914d\u7f6e")),(0,r.kt)("p",null,"\u9996\u5148\u5173\u95ediptable\u8f6c\u53d1"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ sysctl -w net.ipv4.ip_forward=0\n$ cat /proc/sys/net/ipv4/ip_forward\n0\n")),(0,r.kt)("p",null,"\u542f\u52a8\u6d4b\u8bd5\u5bb9\u5668\u8bbf\u95ee\u5176\u4ed6\u4e3b\u673a\u4e0a\u7684\u670d\u52a1\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ docker run -it --rm nginx:1.14-alpine ping image.test.com\nWARNING: IPv4 forwarding is disabled. Networking will not work.\nping: bad address 'image.test.com'\n")),(0,r.kt)("p",null,"\u914d\u7f6e\u597d/etc/docker/daemon.json\u540e\u91cd\u542fDocker"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ systemctl restart docker  # \u914d\u7f6e\u5982\u4e0a\u7684Docker daemon.json\u6587\u4ef6\n")),(0,r.kt)("p",null,"\u518d\u6b21\u6d4b\u8bd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ docker run -it --rm nginx:1.14-alpine ping image.test.com\nPING image.test.com (10.2.3.4): 56 data bytes\n64 bytes from 10.2.3.4: seq=0 ttl=63 time=0.381 ms\n64 bytes from 10.2.3.4: seq=1 ttl=63 time=0.274 ms\n^C\n--- image.test.com ping statistics ---\n")),(0,r.kt)("p",null,"\u67e5\u770bip_forward"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$  cat /proc/sys/net/ipv4/ip_forward\n1\n"))),(0,r.kt)("h3",{id:"\u5176\u4ed6\u53ef\u9009\u914d\u7f6e"},"\u5176\u4ed6\u53ef\u9009\u914d\u7f6e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="daemon.json"',title:'"daemon.json"'},' $ cat /etc/docker/daemon.json\n \n{\n  "debug": false,\n  "registry-mirrors": ["https://you-correct-address.mirror.aliyuncs.com"],\n  "live-restore": true,\n  "log-driver": "json-file",\n  "log-level": "warn",\n  "log-opts": {\n    "max-file": "10",\n    "max-size": "100m"\n  },\n  "ip-forward": true,\n  "ip-masq": false,\n  "iptables": false,\n  "ipv6": false,\n  "selinux-enabled": false\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ip-masq")," : \u5173\u95ed\u7f51\u6865\u4e0a\u7684IP\u5730\u5740\u5f00\u542fIP\u4f2a\u88c5\uff08masquerading\uff09"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"iptables")," : \u5173\u95ediptables \u89c4\u5219"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ipv6")," : \u5173\u95edIPV6\u7f51\u7edc"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"selinux-enabled")," : \u5173\u95edSeLinux\uff0c\u5982\u5f00\u542fSELinux SELinux\u5c1a\u4e0d\u652f\u6301BTRFS\u50a8\u5b58\u9a71\u52a8")),(0,r.kt)("h3",{id:"\u5bb9\u5668\u78c1\u76d8\u4f7f\u7528\u9650\u5236"},"\u5bb9\u5668\u78c1\u76d8\u4f7f\u7528\u9650\u5236"),(0,r.kt)("p",null,"overlay2.size\u662f\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"17.07.0-ce")," \u4e2d\u5f15\u5165\u7684\uff1a Add overlay2.size daemon storage-opt 2"),(0,r.kt)("p",null,"\u9996\u5148\uff0c\u5c06\u9ed8\u8ba4\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"/var/lib/docker"),"\u8bbe\u7f6e\u4e3a\u4e00\u5757\u5355\u72ec\u7684\u8bbe\u5907\uff0c\u53ef\u4ee5\u7528fdisk\u78c1\u76d8\u5212\u5206\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6302\u8f7d\u4e00\u5757\u5df2\u6709\u7684\u7a7a\u767d\u5757\u8bbe\u5907\uff0c\u5e76\u4e14\u4fdd\u8bc1\u8fd9\u5757\u8bbe\u5907\u7684\u6587\u4ef6\u7cfb\u7edf\u4e3aXFS\u683c\u5f0f\uff0c\u5177\u4f53\u8fc7\u7a0b\u4e0d\u5728\u8d58\u8ff0"),(0,r.kt)("p",null,"\u5047\u8bbe\u5757\u8bbe\u5907\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"/dev/sdb")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'$ lsblk|grep sdb\nsdb      8:16   0  100G  0 disk\n\n$ blkid /dev/sdb  # \u67e5\u770buuid\n/dev/sdb: UUID="cc5933d9-4d94-479f-beed-ecff6c483893" TYPE="xfs"\n\n$ vim /etc/fstab   # \u52a0\u5165\u4e0b\u9762\u8fd9\u884c\nUUID=cc5933d9-4d94-479f-beed-ecff6c483893 /var/lib/docker     xfs   rw,pquota        0 0   # uuid\u4e0e\u4e0a\u9762\u4fdd\u6301\u4e00\u81f4\n\n\n$ mount -a  # \u6302\u8f7d\u5757\u8bbe\u5907\u5230\u6307\u5b9a\u76ee\u5f55\n\n$ cat /proc/mounts |grep sdb   # \u786e\u8ba4\u6302\u8f7d\n/dev/sdb /var/lib/docker xfs rw,relatime,attr2,inode64,prjquota 0 0\n')),(0,r.kt)("p",null,"\u7136\u540e\u4fee\u6539docker\u7684daemon.json\u6587\u4ef6\u5e76\u91cd\u542fdocker"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'$ cat /etc/docker/daemon.json\n  {\n      "insecure-registries": [\n      ......\n      ],\n     "registry-mirrors": [\n     "https://xxxxxx.mirror.aliyuncs.com"\n  ],\n      "log-opts": {\n        "max-size": "100m",\n        "max-file": "1"\n      },\n       "ip-forward": true,\n      "storage-driver": "overlay2",\n      "storage-opts": [\n        "overlay2.override_kernel_check=true",\n        "overlay2.size=1G"\n      ],\n      "ip-masq": false,\n      "iptables": false,\n      "ipv6": false,\n      "selinux-enabled": false\n  }\n')),(0,r.kt)("p",null,"\u542f\u52a8\u5e76\u8fdb\u5165\u6d4b\u8bd5\u5bb9\u5668\uff0c\u67e5\u770b\u9650\u5236"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ docker run --rm -it ubuntu /bin/bash\nroot@4385da9fb7bc:/# df -h\nFilesystem      Size  Used Avail Use% Mounted on\noverlay         1.0G  8.0K  1.0G   1% /\ntmpfs            64M     0   64M   0% /dev\ntmpfs            32G     0   32G   0% /sys/fs/cgroup\nshm              64M     0   64M   0% /dev/shm\n/dev/sdb        100G  5.7G   95G   6% /etc/hosts\ntmpfs            32G     0   32G   0% /proc/acpi\ntmpfs            32G     0   32G   0% /proc/scsi\ntmpfs            32G     0   32G   0% /sys/firmware\n")),(0,r.kt)("admonition",{title:"\u6ce8\u610f",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Docker daemon\u8fd0\u884c\u4e2d\u6240\u5728\u7684\u5de5\u4f5c\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"/var/lib/docker"),"\u3002\u82e5\u8be5\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u521b\u5efa\uff0c\u5e76\u8d4b\u4e880700\u6743\u9650"),(0,r.kt)(a.y,{color:"#25c2a0",mdxType:"Highlight"},"\u5728\u751f\u4ea7\u73af\u5883\uff0c\u5f3a\u70c8\u5efa\u8bae\u5c06/var/lib/docker\u7528\u5355\u72ec\u7684\u5757\u5b58\u50a8\u6765\u6302\u8f7d")))}d.isMDXComponent=!0},3815:(e,t,n)=>{n.d(t,{Z:()=>l});const l="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQ4cHgiIGhlaWdodD0iNDhweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MiAoMzY3ODEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPmFwcGxlXzQ4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImFwcGxlXzQ4Ij4KICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0zMyIgeD0iMCIgeT0iMCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48L3JlY3Q+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkuMDAwMDAwLCA2LjAwMDAwMCkiIGlkPSJTaGFwZSIgZmlsbD0iIzIwODlDNCI+CiAgICAgICAgICAgICAgICA8Zz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjUuMDU1LDE5LjA5IEMyNS4xMDcsMjQuNTI3IDI5Ljk0NiwyNi4zMzYgMzAsMjYuMzYgQzI5Ljk2LDI2LjQ4NyAyOS4yMjcsMjguOTM4IDI3LjQ1LDMxLjQ3IEMyNS45MTUsMzMuNjU5IDI0LjMyLDM1Ljg0IDIxLjgxLDM1Ljg4NSBDMTkuMzQzLDM1LjkyOSAxOC41NSwzNC40NTggMTUuNzMsMzQuNDU4IEMxMi45MSwzNC40NTggMTIuMDI4LDM1Ljg0IDkuNjkzLDM1LjkyOSBDNy4yNywzNi4wMTkgNS40MjQsMzMuNTYyIDMuODc2LDMxLjM4MSBDMC43MTIsMjYuOTIxIC0xLjcwNiwxOC43NzYgMS41NDEsMTMuMjc4IEMzLjE1NCwxMC41NDggNi4wMzYsOC44MTggOS4xNjQsOC43NzQgQzExLjU0NCw4LjczIDEzLjc5LDEwLjMzNiAxNS4yNDUsMTAuMzM2IEMxNi42OTksMTAuMzM2IDE5LjQyOSw4LjQwNSAyMi4yOTgsOC42ODggQzIzLjQ5OSw4LjczOCAyNi44NzIsOS4xNjIgMjkuMDM3LDEyLjI1MyBDMjguODYyLDEyLjM1OCAyNS4wMTMsMTQuNTQzIDI1LjA1NSwxOS4wODkgTTIwLjQyLDUuNzM3IEMyMS43MDUsNC4yMTggMjIuNTcsMi4xMDQgMjIuMzM1LDAgQzIwLjQ4LDAuMDczIDE4LjIzOCwxLjIwNSAxNi45MDgsMi43MjMgQzE1LjcxNSw0LjA2OCAxNC42NzEsNi4yMTkgMTQuOTUzLDguMjgxIEMxNy4wMiw4LjQzNyAxOS4xMzIsNy4yNTcgMjAuNDE5LDUuNzM3Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},3316:(e,t,n)=>{n.d(t,{Z:()=>l});const l="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQ4cHgiIGhlaWdodD0iNDhweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MiAoMzY3ODEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPmxpbnV4XzQ4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImxpbnV4XzQ4Ij4KICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0zMyIgeD0iMCIgeT0iMCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48L3JlY3Q+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMDAwMDAwLCA2LjAwMDAwMCkiIGlkPSJTaGFwZSIgZmlsbD0iIzIwODlDNCI+CiAgICAgICAgICAgICAgICA8Zz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzEuMTA0LDI4LjY1NCBDMzAuMTI0LDI4LjI3NCAyOS4zMTgsMjcuNjc0IDI5LjM3NiwyNi41MjQgQzI5LjQzMywyNS4zNzcgMjguNTExLDI0LjYxNyAyOC41MTEsMjQuNjE3IEMyOC41MTEsMjQuNjE3IDI5LjMxOCwyMi4xMDQgMjguNTY4LDIwLjAzIEMyNy44MTksMTcuOTUyIDI1LjM0MywxNC42MjQgMjMuNDQyLDEyLjExMyBDMjEuNTQ1LDkuNiAyMy4xNTYsNi43MDUgMjEuNDI5LDIuOTk0IEMxOS42OTksLTAuNzE3IDE1LjIwOSwtMC40OTkgMTIuNzg5LDEuMDg0IEMxMC4zNjksMi42NjYgMTEuMTE3LDYuNTk2IDExLjIzMSw4LjQ1NiBDMTEuMzQ2LDEwLjMxIDExLjI4MywxMS42MzEgMTEuMDYsMTIuMTExIEMxMC44MzIsMTIuNTkxIDkuMjc1LDE0LjM1MiA4LjIzNywxNS44MjUgQzcuMiwxNy4yOTggNi40NTIsMjAuMzU3IDUuNywyMS42MTIgQzQuOTUyLDIyLjg2OCA1LjQ3LDI0LjAxNCA1LjQ3LDI0LjAxNCBDNS40NywyNC4wMTQgNC45NTIsMjQuMTc2IDQuNTQ4LDI0Ljk5OSBDNC4xNDUsMjUuODE1IDMuMzM5LDI2LjE5OCAxLjg5OSwyNi40NjggQzAuNDU5LDI2Ljc0IDAuNDU5LDI3LjYxOCAwLjgwNCwyOC42IEMxLjE1MSwyOS41ODEgMC44MDYsMzAuMTMgMC40MDIsMzEuMzgzIEMtMC4wMDEsMzIuNjM1IDIuMDE1LDMzLjAyMSAzLjk3MiwzMy4yMzUgQzUuOTMyLDMzLjQ1NiA4LjEyLDM0LjY1NyA5Ljk2NSwzNC44NzUgQzExLjgwNSwzNS4wOTQgMTIuMzgzLDMzLjY3NSAxMi4zODMsMzMuNjc1IEMxMi4zODMsMzMuNjc1IDE0LjQ1NiwzMy4yMzUgMTYuNjQzLDMzLjE4NSBDMTguODMzLDMzLjEyOSAyMC45MDMsMzMuNjIxIDIwLjkwMywzMy42MjEgQzIwLjkwMywzMy42MjEgMjEuMzA2LDM0LjQ5NCAyMi4wNTUsMzQuODc1IEMyMi44MDUsMzUuMjU4IDI0LjQxNywzNS4zMTMgMjUuNDU0LDM0LjI3OCBDMjYuNDkyLDMzLjIzOCAyOS4yNTYsMzEuOTMgMzAuODEsMzEuMTEgQzMyLjM2OSwzMC4yODggMzIuMDg0LDI5LjAzNCAzMS4xMDQsMjguNjU0IEwzMS4xMDQsMjguNjU0IFogTTE3LjYyNSw0LjU3OCBDMTguNjEzLDQuNTc4IDE5LjQxLDUuNTA3IDE5LjQxLDYuNjUxIEMxOS40MSw3LjQ2NCAxOS4wMSw4LjE2NSAxOC40MjYsOC41MDUgQzE4LjI3Nyw4LjQ0MyAxOC4xMjEsOC4zOCAxNy45NTQsOC4zMTMgQzE4LjMwNiw4LjE0OCAxOC41NTYsNy43MjMgMTguNTU2LDcuMjI4IEMxOC41NTYsNi41ODQgMTguMTM1LDYuMDYgMTcuNjE0LDYuMDYgQzE3LjEsNi4wNiAxNi42NzcsNi41ODUgMTYuNjc3LDcuMjI4IEMxNi42NzcsNy40NjcgMTYuNzM3LDcuNjk3IDE2Ljg0LDcuODg0IEMxNi41MzMsNy43NjkgMTYuMjUsNy42NiAxNi4wMjksNy41ODEgQzE1LjkwMzMwMjEsNy4yODcxMTI1OSAxNS44Mzg5ODY0LDYuOTcwNjM4NDcgMTUuODQsNi42NTEgQzE1Ljg0LDUuNTA3IDE2LjYzOCw0LjU3OCAxNy42MjUsNC41NzggTDE3LjYyNSw0LjU3OCBaIE0xNy40OTcsOC45NDkgQzE3Ljk5MSw5LjExMSAxOC41NCw5LjQxNSAxOC40ODMsOS43MTcgQzE4LjQyNCwxMC4wMiAxOC4xNjUsMTAuMDIgMTcuNDk3LDEwLjQwNyBDMTYuODI3LDEwLjc5MSAxNS4zNzgsMTEuNjQzIDE0LjkxNSwxMS42OTggQzE0LjQ0OCwxMS43NTQgMTQuMTg4LDExLjUwNiAxMy42OTUsMTEuMjA1IEMxMy4yMDEsMTAuOTAyIDEyLjI3MiwxMC4xODQgMTIuNTA2LDkuODAxIEMxMi41MDYsOS44MDEgMTMuMjI5LDkuMjc2IDEzLjU0Nyw5LjAwMSBDMTMuODY3LDguNzI1IDE0LjY4LDguMDY3IDE1LjE3NCw4LjE1MiBDMTUuNjY4LDguMjMyIDE3LjAwNCw4Ljc4NCAxNy40OTcsOC45NDkgTDE3LjQ5Nyw4Ljk0OSBaIE0xMy4wNDYsNC45MDcgQzEzLjgyNCw0LjkwNyAxNC40NTcsNS43ODYgMTQuNDU3LDYuODcgQzE0LjQ1Nyw3LjA3IDE0LjQzNyw3LjI1NCAxNC4zOTcsNy40MzMgQzE0LjIwNyw3LjQ5NCAxNC4wMTQsNy41OTMgMTMuODI3LDcuNzQzIEMxMy43Mzg5MzQzLDcuODExNTIzMzQgMTMuNjUyNTc0Niw3Ljg4MjIxMTU2IDEzLjU2OCw3Ljk1NSBDMTMuNjkxLDcuNzM1IDEzLjc0LDcuNDI0IDEzLjY4NSw3LjA5NSBDMTMuNTgxLDYuNTAzIDEzLjE2NSw2LjA3MSAxMi43NTEsNi4xMzIgQzEyLjM0LDYuMiAxMi4wOTEsNi43MzIgMTIuMTk2LDcuMzI4IEMxMi4zMDIsNy45MjMgMTIuNzE2LDguMzU1IDEzLjEyOCw4LjI5MSBDMTMuMTUxNjc3MSw4LjI4NjQyNjQ3IDEzLjE3NTA1MzcsOC4yODA0MTUzNCAxMy4xOTgsOC4yNzMgQzEyLjk5Nyw4LjQ1NiAxMi44MTIsOC42MTMgMTIuNjIzLDguNzQ3IEMxMi4wNTMsOC40OTYgMTEuNjM2LDcuNzUxIDExLjYzNiw2Ljg2OSBDMTEuNjM2LDUuNzg0IDEyLjI2Nyw0LjkwNyAxMy4wNDYsNC45MDcgTDEzLjA0Niw0LjkwNyBaIE0xMS41MjYsMzIuNDkzIEMxMS4zNDIsMzMuMjc2IDEwLjM3NSwzMy44NDQgMTAuMzc1LDMzLjg0NCBDOS40OTgsMzQuMTA1IDcuMDYxLDMzLjEwNCA1Ljk1NywzMi42NjQgQzQuODU0LDMyLjIzIDIuMDQ1LDMyLjA5NSAxLjY3NywzMS43MDggQzEuMzExLDMxLjMxMyAxLjg2LDMwLjQ0MSAyLjAwMSwyOS42MTUgQzIuMTM3LDI4Ljc4MiAxLjcyNSwyOC4yNjEgMS44NjEsMjcuNjkzIEMyLjAwMSwyNy4xMjcgMy43OTUsMjcuMTI3IDQuNDgzLDI2LjczNiBDNS4xNzUsMjYuMzQxIDUuMzEzLDI1LjIwNyA1Ljg2NSwyNC45MDMgQzYuNDE3LDI0LjU5NSA3LjQyOCwyNS42ODYgNy44NDMsMjYuMjk5IEM4LjI1NiwyNi45MDcgOS44MjEsMjkuNTI2IDEwLjQ2NSwzMC4xOCBDMTEuMTExLDMwLjgzNCAxMS43MDksMzEuNzEgMTEuNTI1LDMyLjQ5MyBMMTEuNTI2LDMyLjQ5MyBaIE0yMS43MTEsMjQuODg1IEMyMS41NDUsMjUuNjU1IDIxLjU0NSwyOC40MzUgMjEuNTQ1LDI4LjQzNSBDMjEuNTQ1LDI4LjQzNSAxOS43NiwzMC43OCAxNi45OTIsMzEuMTY0IEMxNC4yMjgsMzEuNTQ4IDEyLjg0NSwzMS4yNzIgMTIuODQ1LDMxLjI3MiBMMTEuMjkxLDI5LjU4MiBDMTEuMjkxLDI5LjU4MiAxMi40OTgsMjkuNDE1IDEyLjMyNywyOC4yNjkgQzEyLjE1MywyNy4xMjMgOC42NDIsMjUuNTM5IDguMDA3LDI0LjExOSBDNy4zNzYsMjIuNzAxIDcuODkzLDIwLjI5NyA4LjcsMTkuMDk1IEM5LjUwNiwxNy44OTUgMTAuMDIyLDE1LjI3NiAxMC44MjksMTQuNCBDMTEuNjM2LDEzLjUzIDEyLjI2NywxMS42NzMgMTEuOTc5LDEwLjg1MiBDMTEuOTc5LDEwLjg1MiAxMy43MDcsMTIuODE5IDE0LjkxNSwxMi40OTMgQzE2LjEyNCwxMi4xNjUgMTguODM1LDEwLjI1MyAxOS4yMzUsMTAuNTgzIEMxOS42MzcsMTAuOTExIDIzLjA5MywxOC4xMTUgMjMuNDM2LDIwLjQwOSBDMjMuNzgzLDIyLjcwMSAyMy4yMDUsMjQuNDQ3IDIzLjIwNSwyNC40NDcgQzIzLjIwNSwyNC40NDcgMjEuODgyLDI0LjEyIDIxLjcxMSwyNC44ODUgTDIxLjcxMSwyNC44ODUgWiBNMzAuNTUxLDMwLjAyOCBDMzAuMDEyLDMwLjQ5NyAyNy4wMTksMzEuNjQyIDI2LjEyMSwzMi41MzYgQzI1LjIyOSwzMy40MjMgMjQuMDYzLDM0LjE0NCAyMy4zNDksMzMuOTM0IEMyMi42MzEsMzMuNzIgMjIuMDA1LDMyLjc4OSAyMi4zMTksMzEuNDMgQzIyLjYzMSwzMC4wNzUgMjIuOTAxLDI4LjU5IDIyLjg1NywyNy43NDEgQzIyLjgxMiwyNi44OTIgMjIuNjMxLDI1Ljc0NCAyMi44NTcsMjUuNTc1IEMyMy4wOCwyNS40MSAyMy40MzYsMjUuNDkzIDIzLjQzNiwyNS40OTMgQzIzLjQzNiwyNS40OTMgMjMuMjYsMjcuMTAyIDI0LjI4NywyNy41MyBDMjUuMzE0LDI3Ljk1IDI2Ljc5MiwyNy4zNiAyNy4yNCwyNi45MzMgQzI3LjY5LDI2LjUxMSAyOC4wMDMsMjUuODc1IDI4LjAwMywyNS44NzUgQzI4LjAwMywyNS44NzUgMjguNDQ5LDI2LjA5IDI4LjQwNSwyNi43NjYgQzI4LjM2LDI3LjQ0NCAyOC43MTYsMjguNDIyIDI5LjM5MSwyOC43NiBDMzAuMDYsMjkuMDk0IDMxLjA4OSwyOS41NjQgMzAuNTUxLDMwLjAyOSBMMzAuNTUxLDMwLjAyOCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},2345:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n.p+"assets/images/registry_mirror-87473b5286b2c44569010599832c54a8.png"},32:(e,t,n)=>{n.d(t,{Z:()=>l});const l="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQ4cHgiIGhlaWdodD0iNDhweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MiAoMzY3ODEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPndpbmRvd3NfNDg8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0id2luZG93c180OCI+CiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMzMiIHg9IjAiIHk9IjAiIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PC9yZWN0PgogICAgICAgICAgICA8ZyBpZD0iV2luZG93cy1JY29uLShGb3ItRWRpdGlvbnMtSGVhZGVyKS0oMSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMDAwMDAwLCA4LjAwMDAwMCkiIGZpbGw9IiMyMDg5QzQiPgogICAgICAgICAgICAgICAgPGcgaWQ9IndpbmRvd3NfNDgiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0wLDQuNTI3IEwxMy4wNzcsMi43NTMgTDEzLjA4MywxNS4zMTggTDAuMDEyLDE1LjM5MiBMMCw0LjUyNyBaIE0xMy4wNzEsMTYuNzY2IEwxMy4wODEsMjkuMzQyIEwwLjAxMSwyNy41NTIgTDAuMDA5LDE2LjY4MiBMMTMuMDcxLDE2Ljc2NiBMMTMuMDcxLDE2Ljc2NiBaIE0xNC42NTYsMi41MiBMMzEuOTk2LDAgTDMxLjk5NiwxNS4xNTggTDE0LjY1NiwxNS4yOTUgTDE0LjY1NiwyLjUyMSBMMTQuNjU2LDIuNTIgWiBNMzIsMTYuODg0IEwzMS45OTYsMzEuOTc0IEwxNC42NTYsMjkuNTM2IEwxNC42MzIsMTYuODU2IEwzMiwxNi44ODQgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="}}]);